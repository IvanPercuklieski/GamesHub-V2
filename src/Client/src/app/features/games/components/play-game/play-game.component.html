<ion-header>
  <app-header></app-header>
</ion-header>

<ion-content>
  @if(game()){
    <div class="gameContainer">
    
      <div class="gameTitle">
        {{game().name}}
      </div>

      <div class="game">
        <iframe [src]="'https://localhost:7220/' + game().filePath + '/index.html' | safeUrl" [height]="game().height + 'px'" [width]="game().width + 'px'"></iframe>
      </div>

      

      <div class="data">
        <div (click)="extraData = 'desc'" [class.active]="extraData === 'desc'">
          <h1>Description</h1>
        </div>
        <div (click)="extraData = 'scores'" [class.active]="extraData === 'scores'">
          <h1>High Scores</h1>
        </div>
      </div>

      @if(extraData === 'desc'){
        <div [innerHTML]="game().description"></div>
      }@else if(extraData === 'scores'){
        <div>
          <table class="high-scores-table">
            <thead>
              <tr>
                <th>Player</th>
                <th>Score</th>
              </tr>
            </thead>
            <tbody>
              @for(score of highScores(); track score.player) {
                <tr>
                  <td>{{score.player}}</td>
                  <td>{{score.score}}</td>
                </tr>
              }
            </tbody>
          </table>
        </div>
      }

  </div>
  }
</ion-content>